import{r as h,u as p,a as g,j as e}from"./index-BBDrbdVF.js";import{a as f}from"./index-NIGUFBhG.js";function j(){const[a,m]=h.useState({channelName:"",description:"",channelPic:"",channelBanner:""}),{user:l,setUser:u}=p(),x=g(),[s,c]=h.useState(!1),t=r=>{m({...a,[r.target.name]:r.target.value})},b=async r=>{var i,d;if(r.preventDefault(),!l){alert("You must be logged in to create a channel.");return}const o={channelName:a.channelName.trim(),description:a.description.trim(),channelPic:a.channelPic.trim(),channelBanner:a.channelBanner.trim()};if(!o.channelName){alert("Channel name is required.");return}c(!0);try{const{data:n}=await f.post("https://youtube-backend-0gem.onrender.com/api/channel",o,{headers:{Authorization:`Bearer ${l.token}`}});u({...l,channelId:n.channelId||n._id}),alert("Channel created!"),x("/channel")}catch(n){alert("Failed to create channel: "+(((d=(i=n.response)==null?void 0:i.data)==null?void 0:d.message)||n.message))}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:e.jsxs("div",{className:"bg-[#181818] text-white w-full max-w-lg rounded-xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"How you'll appear"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:a.channelPic||"https://placehold.co/100x100?text=You",alt:"Channel avatar",className:"w-24 h-24 rounded-full object-cover border border-gray-600"}),e.jsx("label",{className:"text-blue-500 mt-2 cursor-pointer text-sm font-medium hover:underline",children:" Channel Pic"}),e.jsx("input",{type:"url",name:"channelPic",placeholder:"Channel picture URL",value:a.channelPic,onChange:t,className:"w-full mt-2 px-4 py-2 text-sm bg-[#121212] border border-gray-700 rounded-md text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Channel Name"}),e.jsx("input",{type:"text",name:"channelName",placeholder:"Channel name",value:a.channelName,onChange:t,required:!0,autoFocus:!0,className:"w-full px-4 py-2 bg-[#121212] border border-gray-700 rounded-md text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Description"}),e.jsx("textarea",{name:"description",placeholder:"Channel description",rows:2,value:a.description,onChange:t,className:"w-full px-4 py-2 bg-[#121212] border border-gray-700 rounded-md text-white resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Banner URL (optional)"}),e.jsx("input",{type:"url",name:"channelBanner",placeholder:"Channel banner URL",value:a.channelBanner,onChange:t,className:"w-full px-4 py-2 bg-[#121212] border border-gray-700 rounded-md text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-4 py-2 rounded-md bg-transparent border border-gray-500 text-white hover:bg-[#2c2c2c]",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!a.channelName||s,className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:s?"Creating...":"Create channel"})]}),e.jsxs("p",{className:"text-xs text-gray-400 text-center mt-4",children:["By clicking Create channel, you agree to"," ",e.jsx("a",{href:"https://www.youtube.com/t/terms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"YouTube's Terms of Service"}),"."]})]})]})})}export{j as default};
