import{d as N,r as a,u as f,a as v,j as e,L as y,e as k}from"./index-BqYUYAQy.js";import{a as w}from"./index-NIGUFBhG.js";function C(){var m,u;const{id:l}=N(),[s,p]=a.useState(null),[j,i]=a.useState(!0),[o,d]=a.useState(null),[c,x]=a.useState(!1),{user:r}=f(),g=v();if((r==null?void 0:r.channelId)===l&&g("/Youtube-Frontend/channel"),a.useEffect(()=>{i(!0),d(null),w.get(`https://youtube-backend-0gem.onrender.com/api/channel/${l.replace(":","")}`).then(t=>p(t.data)).catch(()=>d("Failed to load channel")).finally(()=>i(!1))},[l]),j)return e.jsx("div",{className:"p-8",children:"Loading..."});if(o)return e.jsx("div",{className:"p-8 text-red-500",children:o});if(!s)return null;const h=180,n=s.description&&s.description.length>h,b=c||!n?s.description:s.description.slice(0,h);return e.jsxs("div",{className:"flex flex-col flex-1 pt-16 sm:ml-16",children:[e.jsx("div",{className:"w-full",children:e.jsx("img",{src:s.channelBanner||"https://placehold.co/600x150.png?text=Banner",alt:"Channel banner",className:"w-full h-40 object-cover"})}),e.jsxs("div",{className:"flex p-6 gap-4 items-start border-b",children:[e.jsx("img",{src:s.channelPic||"https://placehold.co/100x100.png?text=?",alt:s.channelName,className:"w-24 h-24 rounded-full object-cover"}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:s.channelName}),e.jsxs("div",{className:"text-sm text-gray-500 space-x-2 mt-1",children:[e.jsxs("span",{children:["@",(m=s.channelName)==null?void 0:m.toLowerCase().replace(/\s/g,""),"-ic4ou"]}),e.jsx("span",{children:"·"}),e.jsxs("span",{children:[s.subscribers," subscribers"]}),e.jsx("span",{children:"·"}),e.jsxs("span",{children:[((u=s.videos)==null?void 0:u.length)||0," videos"]})]}),e.jsxs("div",{className:"mt-2 text-gray-700 text-sm",children:[b,n&&!c&&e.jsx("span",{className:"text-blue-500 cursor-pointer ml-1",onClick:()=>x(!0),children:"...more"}),n&&c&&e.jsx("span",{className:"text-blue-500 cursor-pointer ml-1",onClick:()=>x(!1),children:"Show less"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"bg-black text-white px-4 py-2 rounded-md hover:opacity-90 transition",children:"Subscribe"})})]})]}),e.jsxs("div",{className:"flex space-x-6 border-b px-6 py-3 text-sm font-medium",children:[e.jsx("div",{className:"cursor-pointer hover:text-black text-gray-600",children:"Home"}),e.jsx("div",{className:"cursor-pointer text-black border-b-2 border-black",children:"Videos"}),e.jsx("div",{className:"cursor-pointer hover:text-black text-gray-600",children:"Shorts"}),e.jsx("div",{className:"cursor-pointer hover:text-black text-gray-600",children:"Playlists"}),e.jsx("div",{className:"cursor-pointer hover:text-black text-gray-600",children:"Posts"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6",children:(s.videos||[]).map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx(y,{to:`/Youtube-Frontend/video/${t._id}`,children:e.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-48 object-cover rounded-md"})}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.title}),e.jsxs("div",{className:"text-gray-500 text-xs mt-1 space-x-1",children:[e.jsxs("span",{children:[t.views," views"]}),e.jsx("span",{children:"·"}),e.jsx("span",{children:t.uploadDate?new Date(t.uploadDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""})]})]}),e.jsx("div",{className:"mt-1 text-right text-gray-500 text-xl",children:e.jsx(k,{className:"inline-block cursor-pointer"})})]},t._id))})]})}export{C as default};
